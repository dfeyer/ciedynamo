#!/usr/local/bin/rubyk

# Incomming capture signal
c = Cabox(port:"/dev/tty.usbserial-FTR6ULSW" bauds:115200 buffer:20) # 32 * 3

c => average
average = Average()
average => 2.lua

diff = Diff(10) # difference with sample @ -20
c => diff
diff => 3.lua

c => lua
lua = Lua(load:"filter.lua")

lua => midi

midi = MidiOut()
